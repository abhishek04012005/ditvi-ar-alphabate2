<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>AR Alphabets A-Z</title>
    <link rel="stylesheet" href="css/style.css">
    <!-- A-Frame library (load first) -->
    <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
    <!-- AR.js library -->
    <script src="https://cdn.jsdelivr.net/npm/ar.js@3.4.5/aframe/aframe-ar.js"></script>
</head>
<body>
    <div id="loading-overlay" class="loading-overlay active">
        <div class="loading-container">
            <div class="loading-spinner"></div>
            <h2>Loading AR Experience</h2>
            <p id="loading-status">Initializing camera...</p>
            <div class="loading-bar">
                <div id="loading-progress" class="loading-progress"></div>
            </div>
        </div>
    </div>

    <div id="error-overlay" class="error-overlay" style="display: none;">
        <div class="error-container">
            <h2>⚠️ Camera Error</h2>
            <p id="error-message"></p>
            <button onclick="location.reload()">Retry</button>
        </div>
    </div>

    <div id="ar-container">
        <a-scene 
            embedded 
            arjs="sourceType: webcam; 
                   detectionMode: mono; 
                   matrixCodeType: 3x3;
                   debugUIEnabled: false;
                   trackingMethod: best;"
            id="ar-scene">
            
            <!-- Camera with proper configuration -->
            <a-camera position="0 0 0" 
                      look-controls="enabled: true"
                      wasd-controls-enabled="false">
            </a-camera>
            
            <!-- Markers for each alphabet A-Z -->
            <!-- Using pattern-based markers -->
            <a-marker id="markerA" type="pattern" url="./assets/markers/ar-marker-1770559668997.patt">
                <a-entity 
                    id="modelA"
                    gltf-model="url(./assets/3dmodels/apple2.0.glb)"
                    scale="1 1 1"
                    position="0 0 0"
                    rotation="0 0 0"
                    animation="property: rotation; to: 0 360 0; dur: 6000; loop: true;">
                </a-entity>
            </a-marker>

            <a-marker id="markerB" type="pattern" url="assets/markers/pattern-B.patt">
                <a-entity 
                    id="modelB"
                    gltf-model="url(assets/3dmodels/B.gltf)"
                    scale="1 1 1"
                    position="0 0 0"
                    rotation="0 0 0"
                    animation="property: rotation; to: 0 360 0; dur: 6000; loop: true;">
                </a-entity>
            </a-marker>

            <a-marker id="markerC" type="pattern" url="assets/markers/pattern-C.patt">
                <a-entity 
                    id="modelC"
                    gltf-model="url(assets/3dmodels/C.gltf)"
                    scale="1 1 1"
                    position="0 0 0"
                    rotation="0 0 0"
                    animation="property: rotation; to: 0 360 0; dur: 6000; loop: true;">
                </a-entity>
            </a-marker>
            
        </a-scene>
    </div>

    <!-- Controls and Info Panel -->
    <div id="info-panel">
        <h1>AR Alphabets A-Z</h1>
        <p id="current-letter">Detected Letter: None</p>
        <p id="instructions">Point your camera at the markers to see the 3D alphabet models</p>
    </div>

    <!-- Marker Information -->
    <div id="marker-info">
        <h3>Marker Type: Pattern-Based Markers</h3>
        <p>Using NFT-compatible pattern markers (.patt files)</p>
    </div>

    <script src="js/app.js"></script>
</body>
</html>
